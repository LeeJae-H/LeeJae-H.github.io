<!-- ---
title: "리포지토리"
tags:
    - java
date: "2025-02-20"
thumbnail: "/assets/img/thumbnail/sample.png"
---
>- 객체 기반 도메인 모델의 구성요소는 다음과 같다.
    - 엔티티
    - 밸류
    - 애그리거트
    - **리포지토리 -> 구현을 위한 도메인 모델**
    - 도메인 서비스 

# 리포지토리 - 애그리거트를 영속화할 저장소
- 객체의 영속성을 처리하는 리포지토리는 **애그리거트 단위**로 존재한다.
    - Order와 OrderLine을 물리적으로 각각 별도의 DB 테이블에 저장한다고 해서 Order와 OrderLine을 위한 리포지토리를 각각 만들지 않는다. Order가 애그리거트 루트고 OrderLine은 애그리거트에 속하는 구성요소이므로 Order를 위한 리포지토리만 존재한다.
- 새로운 애그리거트를 만들면 저장소에 애그리거트를 영속화하고 애그리거트를 사용하려면 저장소에서 애그리거트를 읽어야 하므로, 리포지토리는 보통 다음의 두 메서드를 기본으로 제공한다.
    - save : 애그리거트 저장
    - findById : ID로 애그리거트를 구함
- 리포지토리는 애그리거트 전체를 저장소에 영속화해야하고, 애그리거트를 구하는 리포지토리 메서드는 완전한 애그리거트를 제공해야 한다.

---
- 참고 자료
도메인 주도 개발 시작하기(저자: 최범균)   -->
